
<!-- saved from url=(0113)http://cowwu.myweb.hinet.net/note/js/PIDMaker.htm?MywebPageId=2010111284162381311&MywebPageId=2010111284162403891 -->
<HTML lang="zh-TW"><SCRIPT type="text/javascript">(function() {  function isText(node) {    return node.tagName == 'TEXTAREA' ||      node.tagName == 'INPUT' && node.type == 'text';  }  document.addEventListener('focus', function(event) {      if (isText(event.target))  {        event.target.setAttribute('littleurlfocussed', 'true');      }  }, true);  document.addEventListener('blur', function(event) {      if (isText(event.target)) {        event.target.removeAttribute('littleurlfocussed');      }  }, true);})();</SCRIPT><HEAD><META http-equiv="Content-Type" content="text/html; charset=Big5"><SCRIPT language="JavaScript" src="./ID2_files/new-inner.js"></SCRIPT>


	
	<META name="keywords" content="線上身分證產生器, 線上身份證產生器, 身分證, 身份證, 身分證產生器, 身份證產生器">
	<TITLE>身分證字號產生器／身分證字號檢查器</TITLE>
	<BODY STYLE=  "background:  #989898 url(http://philkuo.com/orang.99k.org/oranggameweb/bg.jpg) repeat-x" TOPMARGIN="0" LEFTMARGIN="0" MARGINWIDTH="0" MARGINHEIGHT="0"> 
	<link rel="shortcut icon" href="http://r1kpvq.bay.livefilestore.com/y1pzLjxumF2oTiycz8yNPfdYvQL72pE23ixaIMzg3rQhdRrGIALDPVjJiXYjXJezKGzOffkA0qkf1h3hpd6S_L-j37_HVKwQdB8/animated_favicon1.gif" type="image/x-icon" /> 
</HEAD><BODY>
<NOSCRIPT></NOSCRIPT>

<SCRIPT language="javascript">
var ALP_STR = "ABCDEFGHJKLMNPQRSTUVXYWZIO";
var NUM_STR = "0123456789";
var SEX_STR = "12";
var MAX_COUNT = 999;

// ------------------------------------------------------------
// 去字串前後空白
function trim(str) {
	while (str.indexOf(" ")==0) {
		str = str.substring(1, str.length);
	}
	while ((str.length>0) && (str.indexOf(" ")==(str.length-1))) {
		str = str.substring(0, str.length-1);
	}
	return str;
}

// ------------------------------------------------------------
// 補前置零
function getZero(iLen, val) {
	var val = val + "";
	var rtn = "";
	for(var i=0; i<iLen; i++) {
		rtn += "0";
	}
	rtn += val;
	rtn = rtn.substring(val.length, rtn.length);
	return rtn;
}

// ------------------------------------------------------------
// 身分證字號產生器
// 產生 iCount 個亂數值的身分證字號
function MakePID(form) {
	var iCount = form.COUNT.value
	var sList = "";
	var SelectALP = "";
	var SelectSEX = "";

	// 檢查個數
	var iCount = form.COUNT.value;
	iCount = Math.max(Math.min(iCount, MAX_COUNT), 0);

	// 字母組
	for(var k=0;k<form.ALP.length;k++) {
		SelectALP += form.ALP[k].selected?form.ALP[k].value:"";
	}
	SelectALP = SelectALP.length==0?ALP_STR:SelectALP;

	// 性別組
	for(var k=0;k<form.SEX.length;k++) {
		SelectSEX += form.SEX[k].selected?form.SEX[k].value:"";
	}
	SelectSEX = SelectSEX.length==0?SEX_STR:SelectSEX;

	// 產生 iCount 組字號
	for (var k=0; k<iCount; k++) {
		var j = 0;
		var iChkSum = 0;
		var sNewPID = "";

		// 第1碼 (英文字母)
		j = SelectALP.substr(Math.round(Math.random()*(SelectALP.length-1)), 1);
		sNewPID += j;
		j = ALP_STR.indexOf(sNewPID) + 10;
		iChkSum = (j-j%10)/10 + (j%10*9); /* X1 + X2*9 */

		// 第2碼 (性別)
		j = SelectSEX.substr(Math.round(Math.random()*(SelectSEX.length-1)), 1);
		sNewPID += j;
		iChkSum += j*8; /* X3*8 */

		// 第3~9碼
		for (var i=0; i<7; i++) {
			c = Math.round(Math.random()*9);
			sNewPID += c;
			iChkSum += c * (7-i);
		}

		// 第10碼 (檢查碼)
		sNewPID += ((10 - iChkSum % 10) % 10);

		sList += sNewPID + "\n";
	}
	form.list.value = sList;
	return false;
}

// ------------------------------------------------------------
//身份證字號檢查器 - 累加檢查碼
function getPID_SUM(sPID) {
	var iChkNum = 0;

	// 第 1 碼
	iChkNum = ALP_STR.indexOf(sPID.substr(0,1)) + 10;
	iChkNum = Math.floor(iChkNum/10) + (iChkNum%10*9);

	// 第 2 - 9 碼
	for(var i=1; i<sPID.length-1; i++) {
		iChkNum += sPID.substr(i,1) * (9-i);
	}

	// 第 10 碼
	iChkNum += sPID.substr(9,1)*1;

	return iChkNum;
}

// ------------------------------------------------------------
// 身分證字號檢查器 - 檢查合法字元
function chkPID_CHAR(sPID) {
	var sMsg = "";
	//sPID = trim(sPID.toUpperCase());
	var iPIDLen = String(sPID).length;

	var sChk = ALP_STR + NUM_STR;
	for(i=0;i<iPIDLen;i++) {
		if (sChk.indexOf(sPID.substr(i,1)) < 0) {
			sMsg = "這個身分證字號含有不正確的字元！";
			break;
		}
	}

	if (sMsg.length == 0) {
		if (ALP_STR.indexOf(sPID.substr(0,1)) < 0) {
			sMsg = "身分證字號第 1 碼應為英文字母(A~Z)。";
		} else if ((sPID.substr(1,1) != "1") && (sPID.substr(1,1) != "2")) {
			sMsg = "身分證字號第 2 碼應為數字(1~2)。";
		} else {
			for(var i=2; i<iPIDLen; i++) {
				if (NUM_STR.indexOf(sPID.substr(i, 1)) < 0) {
					sMsg = "第 " + (i+1) + " 碼應為數字(0~9)。";
					break;
				}
			}
		}
	}

	if (sMsg.length != 0) {
		alert(sMsg);
		return false;
	} else {
		return true;
	}
}

// ------------------------------------------------------------
// 身分證字號檢查器
function CheckPID(sPID) {
	var sMsg = "正確";

	if (sPID == '') {
		sMsg = "請輸入身分證字號";
	} else if (sPID.length != 10) {
		sMsg = "長度應為 10 ！";
	} else {
		sPID = trim(sPID.toUpperCase());
		if (!chkPID_CHAR(sPID)) return;

		var iChkNum = getPID_SUM(sPID);

		if (iChkNum % 10 != 0) {
			var iLastNum = sPID.substr(9, 1) * 1;
			for (i=0; i<10; i++) {
				var xRightAlpNum = iChkNum - iLastNum + i;
				if ((xRightAlpNum % 10) ==0) {
					sMsg = "最後一個數應為：" + i;
					break;
				}
			}
		}
	}
	alert(sMsg);
	return false;
}

// ------------------------------------------------------------
// 身分證字號產生器２
// 依設定字元的範圍，產生相對 iCount 個身分證字號
function MakePID2(form) {
	// 檢查前置字元與後置字元
	var sBefore = form.sBefore.value;
	var sAfter = form.sAfter.value;
	if (sBefore.length < 2){
		alert("請設定前置字元至少 2 碼。");
		return false;
	} else if ((sBefore + sAfter).length > 9) {
		alert("前置字元與後置字元總長度，不得超過 9 個");
		return false;
	}

	sBefore = trim(sBefore.toUpperCase());
	sAfter = trim(sAfter.toUpperCase());

	var iLen = 10 - sBefore.length - sAfter.length;
	var sPID = sBefore + getZero(iLen, sAfter);
	if (!chkPID_CHAR(sPID)) return;

	// 檢查個數
	var iCount = form.COUNT.value;
	iCount = Math.max(Math.min(iCount, MAX_COUNT), 0);

	// 產生相對的身分證字號
	var sList = "";
	var iPoint = 0;
	var bBreak = false;
	var iValidCount = 0;
	for(var k=0; k<iCount; k++) {
		var sNewPID = "";

		while (!bBreak) {
			sNewPID = sBefore;

			// 第3~10碼
			sNewPID += getZero(iLen, iPoint++) + sAfter;

			if (getPID_SUM(sNewPID) % 10 == 0) {
				/* 十位數相同的數, 只有會有一組: 僅適用在沒有 後置字元 時
				iPoint = (Math.floor((iPoint-1) / 10) + 1) * 10;
				*/
				iValidCount++;
				break;
			}

			bBreak = (String(iPoint).length > iLen);
		}

		if (bBreak) break;
		sList += sNewPID + "\n";
	}
	form.list.value = sList;
	form.COUNT.value = iValidCount;
	return false;
}

/* 原來的 CheckPID() 2002/05/06 */
// ------------------------------------------------------------
// 身分證字號檢查器
function CheckPID_OLD(sPID) {
	var bChk = true;
	var sMsg = "正確";
	sPID = trim(sPID.toUpperCase());
	var iPIDLen = String(sPID).length;

	var iChkNum=0;

	if (iPIDLen!=10) {
		sMsg = "這個身分證字號長度不合法！";
		bChk = false;
	} else {
		var sChk = ALP_STR + NUM_STR;
		for(i=0;i<iPIDLen;i++) {
			if (sChk.indexOf(sPID.substr(i,1))==-1) {
				sMsg = "這個身分證字號含有不正確的字元！";
				bChk = false;
				break;
			}
		}
	}

	if (bChk) {
		iChkNum = ALP_STR.indexOf(sPID.substr(0,1));
		if (iChkNum==-1) {
			sMsg = "身分證字號第一個字應為英文字母！";
			bChk = false;
		} else {
			iChkNum += 10;
			if ((sPID.indexOf("1")!=1) && (sPID.indexOf("2")!=1)) {
				sMsg = "身分證字號第二個字應為 1 或 2！";
				bChk = false;
			}
		}
	}

	if (bChk) {
 		iChkNum = Math.floor(iChkNum/10) + (iChkNum%10*9);
		for(var i=1; i<iPIDLen-1; i++) {
			iChkNum += sPID.substr(i,1) * (9-i);
		}

		var iLastNum = sPID.substr(9,1)*1;
		iChkNum += iLastNum;
				alert(iChkNum);

		if ((iChkNum % 10) !=0) {
			sMsg = "這個身分證字號不合法！";
			bChk = false;
			for (i=0;i<10;i++) {
				var xRightAlpNum = iChkNum - iLastNum + i;
				if ((xRightAlpNum % 10) ==0) {
					sMsg += "最後一個數應為：" + i;
				}
			}
		}
	}

	alert(sMsg);
}
</SCRIPT>

<FORM name="fm">
	<FONT color="#EF0000">身分證字號產生器</FONT><BR>
	縣市：
	<SELECT name="ALP" multiple="true">
		<OPTION value="A">臺北市(A)
		</OPTION><OPTION value="B">臺中市(B)
		</OPTION><OPTION value="C">基隆市(C)
		</OPTION><OPTION value="D">臺南市(D)
		</OPTION><OPTION value="E">高雄市(E)
		</OPTION><OPTION value="F">臺北縣(F)
		</OPTION><OPTION value="G">宜蘭縣(G)
		</OPTION><OPTION value="H">桃園縣(H)
		</OPTION><OPTION value="I">嘉義市(I)
		</OPTION><OPTION value="J">新竹縣(J)
		</OPTION><OPTION value="K">苗栗縣(K)
		</OPTION><OPTION value="L">臺中縣(L)
		</OPTION><OPTION value="M">南投縣(M)
		</OPTION><OPTION value="N">彰化縣(N)
		</OPTION><OPTION value="O">新竹市(O)
		</OPTION><OPTION value="P">雲林縣(P)
		</OPTION><OPTION value="Q">嘉義縣(Q)
		</OPTION><OPTION value="R">臺南縣(R)
		</OPTION><OPTION value="S">高雄縣(S)
		</OPTION><OPTION value="T">屏東縣(T)
		</OPTION><OPTION value="U">花蓮縣(U)
		</OPTION><OPTION value="V">臺東縣(V)
		</OPTION><OPTION value="W">金門縣(W)
		</OPTION><OPTION value="X">澎湖縣(X)
		</OPTION><OPTION value="Y">陽明山(Y)
		</OPTION><OPTION value="Z">連江縣(Z)
	</OPTION></SELECT>

	(Ctrl+Click to multi-select)
	<BR>性別：
	<SELECT name="SEX" multiple="true" size="2">
		<OPTION value="1">男(1)
		</OPTION><OPTION value="2">女(2)
	</OPTION></SELECT>
	<BR>數量：<INPUT type="text" name="COUNT" size="3" value="5" maxlength="3">

	<INPUT type="button" value="Do!" onclick="return MakePID(document.fm)">
	<INPUT type="reset" value="Reset">
	<BR><TEXTAREA name="list" rows="6" cols="15" readonly="true"></TEXTAREA>
</FORM>
<HR>
<FORM name="fm2">
	<FONT color="#EF0000">身分證字號檢查器</FONT><BR>
	身分證字號：<INPUT type="text" name="PID" size="10" value="A123456789" maxlength="10">
	<INPUT type="button" value="Check!" onclick="return CheckPID(document.fm2.PID.value)">
	<INPUT type="reset" value="Reset">
</FORM>
<HR>
<FORM name="fm3">
	<FONT color="#EF0000">身分證字號產生器２（2004/03/30增加）</FONT><BR>
	依設定字元的範圍產生相對的身分證字號<BR>
	前置字元：<INPUT type="text" name="sBefore" size="10" value="A1" maxlength="9">
	後置字元：<INPUT type="text" name="sAfter" size="10" value="" maxlength="9" style="text-align:right">
	<BR>數量：<INPUT type="text" name="COUNT" size="3" value="100" maxlength="3">
	<INPUT type="button" value="Do!" onclick="return MakePID2(document.fm3)">
	<INPUT type="reset" value="Reset">
	<BR><TEXTAREA name="list" rows="6" cols="20" readonly="true"></TEXTAREA>
</FORM>
<HR>

身分證字號規則：
<BR>字母(ABCDEFGHJKLMNPQRSTUVXYWZIO)對應一組數(10~35)，
<BR>令其十位數為X1，個位數為X2；( 如Ａ：X1=1 , X2=0 )；D表示2~9數字
<BR>Y = X1 + 9*X2 + 8*D1 + 7*D2 + 6*D3 + 5*D4 + 4*D5 + 3*D6 + 2*D7+ 1*D8 + D9
<BR>如Y能被10整除，則表示該身分證號碼為正確，否則為錯誤。



</BODY></HTML>